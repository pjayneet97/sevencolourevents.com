function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"4ro/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),r=n("ofXK"),o=n("TEn/");function a(e,t){if(1&e&&i.Qb(0,"ion-icon",5),2&e){var n=i.hc();i.pc("name",n.icon)}}function c(e,t){if(1&e&&i.Qb(0,"img",6),2&e){var n=i.hc();i.pc("src",n.image,i.Bc)("width",n.imageWidth)}}var s=function(){var e=function e(){_classCallCheck(this,e),this.text="",this.icon="alert",this.image="",this.imageWidth=""};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Jb({type:e,selectors:[["empty-view"]],inputs:{text:"text",icon:"icon",image:"image",imageWidth:"imageWidth"},decls:6,vars:3,consts:[[1,"container"],[3,"name",4,"ngIf"],[3,"src","width",4,"ngIf"],["color","medium"],[1,"bold"],[3,"name"],[3,"src","width"]],template:function(e,t){1&e&&(i.Vb(0,"div",0),i.Fc(1,a,1,1,"ion-icon",1),i.Fc(2,c,1,2,"img",2),i.Vb(3,"ion-text",3),i.Vb(4,"p",4),i.Hc(5),i.Ub(),i.Ub(),i.Ub()),2&e&&(i.Cb(1),i.pc("ngIf",!t.image),i.Cb(1),i.pc("ngIf",t.image),i.Cb(3),i.Ic(t.text))},directives:[r.l,o.S,o.r],styles:["[_nghost-%COMP%]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;text-align:center;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px}"]}),e}()},jroN:function(e,t,n){"use strict";n.r(t);var i=n("tyNb"),r=n("mrSG"),o=n("oV1I"),a=n("62S+"),c=n("NV1z"),s=n("TEn/"),l=n("XNiG"),b=n("VRyK"),u=n("R0Ic"),p=n("fXoL"),f=n("hrlM"),d=n("ofXK"),h=n("4ro/"),g=n("xJkR"),m=n("wf0l"),v=n("MKfq"),w=n("sYmb"),y=n("eiOl");function x(e,t){1&e&&(p.Qb(0,"empty-view",14),p.ic(1,"translate")),2&e&&p.pc("text",p.jc(1,1,"ERROR_REVIEWS"))}function O(e,t){1&e&&(p.Qb(0,"empty-view",15),p.ic(1,"translate")),2&e&&p.pc("text",p.jc(1,1,"EMPTY_REVIEWS"))}var C=function(){return{width:"80px",height:"80px"}},k=function(){return{width:"30%","border-radius":"0",height:"15px","margin-bottom":"10px"}},V=function(){return{width:"70%","border-radius":"0",height:"15px"}};function _(e,t){1&e&&(p.Vb(0,"div",17),p.Vb(1,"div",18),p.Vb(2,"div",19),p.Qb(3,"ngx-skeleton-loader",20),p.Ub(),p.Vb(4,"div",21),p.Vb(5,"div"),p.Qb(6,"ngx-skeleton-loader",22),p.Ub(),p.Vb(7,"div"),p.Qb(8,"ngx-skeleton-loader",22),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&e&&(p.Cb(3),p.pc("theme",p.sc(3,C)),p.Cb(3),p.pc("theme",p.sc(4,k)),p.Cb(2),p.pc("theme",p.sc(5,V)))}function P(e,t){if(1&e&&(p.Vb(0,"section"),p.Fc(1,_,9,6,"div",16),p.Ub()),2&e){var n=p.hc();p.Cb(1),p.pc("ngForOf",n.skeletonReviews)}}function R(e,t){if(1&e&&(p.Vb(0,"div"),p.Vb(1,"div",25),p.Vb(2,"div",26),p.Vb(3,"div",27),p.Vb(4,"div",28),p.Qb(5,"img",29),p.Ub(),p.Vb(6,"div",30),p.Vb(7,"p",31),p.Vb(8,"strong"),p.Hc(9),p.ic(10,"translate"),p.Ub(),p.Ub(),p.Qb(11,"bar-rating",32),p.Qb(12,"div",33),p.Vb(13,"p",34),p.Hc(14),p.Ub(),p.Vb(15,"small",35),p.Hc(16),p.ic(17,"dateGlobal"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&e){var n=t.$implicit,i=p.hc(2);p.Cb(5),p.pc("lazyLoad",null==n.user?null:null==n.user.photo?null:n.user.photo.url())("customObservable",i.loadAndScroll),p.Cb(4),p.Ic((null==n.user?null:n.user.name)||p.jc(10,9,"GUEST")),p.Cb(2),p.pc("rate",n.rating)("readOnly",!0)("max",5)("theme","stars"),p.Cb(3),p.Ic(n.comment),p.Cb(2),p.Ic(p.kc(17,11,n.createdAt,"mediumDate"))}}function I(e,t){if(1&e&&(p.Vb(0,"div",23),p.Vb(1,"h3"),p.Hc(2,"All Reviews"),p.Ub(),p.Fc(3,R,18,14,"div",24),p.Ub()),2&e){var n=p.hc();p.pc("@staggerIn",n.reviews.length),p.Cb(3),p.pc("ngForOf",n.reviews)("ngForTrackBy",n.trackByFn)}}function U(e,t){if(1&e){var n=p.Wb();p.Vb(0,"ion-infinite-scroll",36),p.dc("ionInfinite",(function(e){return p.yc(n),p.hc().onLoadMore(e)})),p.Qb(1,"ion-infinite-scroll-content"),p.Ub()}}var j,M=((j=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).reviewService=n,i.reviews=[],i.params={},i.params=Object.assign({},i.getParams()),i.params.limit=20,i.params.page=0,i.skeletonReviews=Array(10),i}return _inherits(t,e),_createClass(t,[{key:"enableMenuSwipe",value:function(){return!1}},{key:"onContentLoaded",value:function(){var e=this;setTimeout((function(){e.contentLoaded.next()}),400)}},{key:"ionViewDidEnter",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contentLoaded=new l.a,this.loadAndScroll=Object(b.a)(this.content.ionScroll,this.contentLoaded),e.next=4,this.showLoadingView({showOverlay:!1});case 4:if(!this.params.itemId){e.next=13;break}return e.next=7,this.loadItem();case 7:return this.params.item=e.sent,e.next=10,this.getTrans("REVIEWS");case 10:t=e.sent,n=this.params.item.name+" - "+t,this.setPageTitle(n),this.setMetaTags({title:n});case 13:this.loadData();case 14:case"end":return e.stop()}}),e,this)})))}},{key:"loadItem",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new a.a).id=this.params.itemId,e.next=4,t.fetch();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"loadData",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,r,o,a,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.reviewService.load(this.params);case 3:for(t=e.sent,n=!0,i=!1,r=void 0,e.prev=7,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)c=a.value,this.reviews.push(c);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),i=!0,r=e.t0;case 15:e.prev=15,e.prev=16,n||null==o.return||o.return();case 18:if(e.prev=18,!i){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:this.reviews.length?this.showContentView():this.showEmptyView(),this.onContentLoaded(),this.onRefreshComplete(t),e.next=33;break;case 26:return e.prev=26,e.t1=e.catch(0),this.reviews.length?this.showContentView():this.showErrorView(),this.onRefreshComplete(),e.next=31,this.getTrans("ERROR_NETWORK");case 31:s=e.sent,this.showToast(s);case 33:case"end":return e.stop()}}),e,this,[[0,26],[7,11,15,23],[16,,18,22]])})))}},{key:"onLoadMore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.infiniteScroll=e.target,this.params.page++,this.loadData()}},{key:"onReload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.refresher=e.target,this.reviews=[],this.params.page=0,this.loadData()}},{key:"trackByFn",value:function(e,t){return t?t.id:null}}]),t}(c.a)).\u0275fac=function(e){return new(e||j)(p.Pb(p.r),p.Pb(o.a))},j.\u0275cmp=p.Jb({type:j,selectors:[["page-review-list"]],viewQuery:function(e,t){var n;1&e&&p.Nc(s.n,!0),2&e&&p.wc(n=p.ec())&&(t.content=n.first)},features:[p.zb],decls:20,vars:11,consts:[[1,"d-block","d-sm-none"],[1,"ion-no-border","border-bottom","px-md-5"],["fixed",""],["slot","start"],["defaultHref","/1/home"],[1,"d-none","d-sm-block"],["scrollEvents","true"],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["icon","star",3,"text",4,"ngIf"],[4,"ngIf"],["class","container pl-md-0",4,"ngIf"],[3,"ionInfinite",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["icon","star",3,"text"],["class","skeleton-item light-bg radius",4,"ngFor","ngForOf"],[1,"skeleton-item","light-bg","radius"],[1,"wrapper"],[1,"avatar"],["appearance","circle",3,"theme"],[1,"title"],[3,"theme"],[1,"container","pl-md-0"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","border-0","pl-0"],[1,"card-body"],[1,"row","border-bottom","pb-2","pb-md-4"],[1,"col-2","text-left","p-0"],["defaultImage","./assets/imgs/avatar.png","width","80","height","80",1,"img","rounded-circle","img-fluid",3,"lazyLoad","customObservable"],[1,"col-10","boder-left"],[1,"my-0","py-0"],[1,"py-0","my-0",3,"rate","readOnly","max","theme"],[1,"clearfix"],[1,"py-0","my-0"],[1,"text-secondary","py-0","my-0"],[3,"ionInfinite"]],template:function(e,t){1&e&&(p.Vb(0,"div",0),p.Vb(1,"ion-header",1),p.Vb(2,"ion-toolbar",2),p.Vb(3,"ion-buttons",3),p.Qb(4,"ion-back-button",4),p.Ub(),p.Vb(5,"ion-title"),p.Hc(6,"Reviews"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(7,"div",5),p.Qb(8,"app-navbar"),p.Ub(),p.Vb(9,"ion-content",6),p.Vb(10,"ion-refresher",7),p.dc("ionRefresh",(function(e){return t.onReload(e)})),p.Qb(11,"ion-refresher-content",8),p.ic(12,"translate"),p.ic(13,"translate"),p.Ub(),p.Vb(14,"ion-grid",2),p.Fc(15,x,2,3,"empty-view",9),p.Fc(16,O,2,3,"empty-view",10),p.Fc(17,P,2,1,"section",11),p.Fc(18,I,4,3,"div",12),p.Ub(),p.Fc(19,U,2,0,"ion-infinite-scroll",13),p.Ub()),2&e&&(p.Cb(11),p.qc("pullingText",p.jc(12,7,"PULL_TO_REFRESH")),p.qc("refreshingText",p.jc(13,9,"REFRESHING")),p.Cb(4),p.pc("ngIf",t.isErrorViewVisible),p.Cb(1),p.pc("ngIf",t.isEmptyViewVisible),p.Cb(1),p.pc("ngIf",t.isLoadingViewVisible),p.Cb(1),p.pc("ngIf",t.isContentViewVisible),p.Cb(1),p.pc("ngIf",t.isContentViewVisible))},directives:[s.q,s.X,s.k,s.g,s.h,s.V,f.a,s.n,s.F,s.G,s.p,d.l,h.a,d.k,g.a,m.a,v.a,s.t,s.u],pipes:[w.c,y.a],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}ion-avatar[_ngcontent-%COMP%]{margin:0 12px 0 0!important}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-dark)}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;width:100%;height:auto;-webkit-box-flex:1;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}"],data:{animation:[Object(u.l)("staggerIn",[Object(u.k)("* => *",[Object(u.f)(":enter",Object(u.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(u.f)(":enter",Object(u.h)("100ms",[Object(u.e)("300ms",Object(u.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),j),E=n("d2mR");n.d(t,"ReviewListPageModule",(function(){return T}));var F,T=((F=function e(){_classCallCheck(this,e)}).\u0275mod=p.Nb({type:F}),F.\u0275inj=p.Mb({factory:function(e){return new(e||F)},imports:[[E.a,i.j.forChild([{path:"",component:M}])]]}),F)}}]);