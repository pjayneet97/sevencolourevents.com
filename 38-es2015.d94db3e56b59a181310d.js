(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{te2J:function(t,e,i){"use strict";i.r(e);var n=i("tyNb"),s=i("mrSG"),o=i("NV1z"),r=i("X0/9"),c=i("s5X5"),d=i("fXoL"),a=i("TEn/"),b=i("hrlM"),l=i("ofXK"),h=i("4ro/"),u=i("xJkR"),f=i("sYmb");function w(t,e){1&t&&(d.Qb(0,"empty-view",17),d.ic(1,"translate")),2&t&&d.pc("text",d.jc(1,1,"ERROR_DATA"))}function g(t,e){1&t&&(d.Qb(0,"empty-view",18),d.ic(1,"translate")),2&t&&d.pc("text",d.jc(1,1,"EMPTY_ADDRESSES"))}function p(t,e){if(1&t){const t=d.Wb();d.Vb(0,"div"),d.Vb(1,"div",21),d.Vb(2,"div",22),d.Vb(3,"h6",23),d.Hc(4),d.Ub(),d.Vb(5,"p",24),d.Hc(6),d.Qb(7,"br"),d.Hc(8),d.ic(9,"translate"),d.Ub(),d.Vb(10,"ion-button",14),d.dc("click",(function(){d.yc(t);const i=e.$implicit;return d.hc(2).onDeleteAddress(i)})),d.Hc(11),d.ic(12,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Cb(4),d.Ic(t.name),d.Cb(2),d.Jc(" ",t," "),d.Cb(2),d.Kc(" ",d.jc(9,5,"CONTACT_PHONE"),": ",t.phone,""),d.Cb(3),d.Jc(" ",d.jc(12,7,"DELETE"),"")}}function m(t,e){if(1&t&&(d.Vb(0,"ion-row",19),d.Fc(1,p,13,9,"div",20),d.Ub()),2&t){const t=d.hc();d.Cb(1),d.pc("ngForOf",t.addresses)}}const V=function(){return{"border-radius":"0",height:"60px"}};function y(t,e){1&t&&(d.Vb(0,"ion-row",25),d.Vb(1,"ion-col",26),d.Qb(2,"ngx-skeleton-loader",27),d.Ub(),d.Ub()),2&t&&(d.Cb(2),d.pc("theme",d.sc(1,V)))}let v=(()=>{class t extends o.a{constructor(t,e){super(t),this.customerAddressService=e,this.addresses=[]}enableMenuSwipe(){return!1}ionViewDidEnter(){return Object(s.a)(this,void 0,void 0,(function*(){this.addresses.length||(this.showLoadingView({showOverlay:!1}),this.loadData());const t=yield this.getTrans("ADDRESSES");this.setPageTitle(t),this.setMetaTags({title:t})}))}loadData(t={}){return Object(s.a)(this,void 0,void 0,(function*(){try{this.refresher=t.target,this.addresses=yield this.customerAddressService.load(),this.addresses.length?this.showContentView():this.showEmptyView(),this.onRefreshComplete()}catch(e){this.showErrorView(),this.onRefreshComplete(),this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t))}}))}onDeleteAddress(t){return Object(s.a)(this,void 0,void 0,(function*(){try{const e=yield this.translate.get("DELETE_CONFIRMATION").toPromise();if(!(yield this.showConfirm(e)))return;yield this.showLoadingView({showOverlay:!1}),yield t.destroy();let i=this.addresses.indexOf(t);-1!==i&&this.addresses.splice(i,1),this.addresses.length?this.showContentView():this.showEmptyView(),this.translate.get("DELETED").subscribe(t=>this.showToast(t))}catch(e){this.showContentView(),this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t))}}))}onAddButtonTouched(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.showLoadingView({showOverlay:!0});const t=yield this.modalCtrl.create({component:c.a});yield t.present(),this.showContentView();const{data:e}=yield t.onWillDismiss();e&&(this.addresses.unshift(e),this.showContentView())}))}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(d.r),d.Pb(r.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["page-address-list"]],features:[d.zb],decls:29,vars:13,consts:[[1,"d-block","d-sm-none"],[1,"ion-no-border","border-bottom","px-md-5"],["fixed",""],["slot","start"],["defaultHref","/1/home/items"],["slot","end"],[3,"click"],["name","add","slot","icon-only"],[1,"d-none","d-sm-block"],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["image","./assets/imgs/undraw_address_udes.svg","imageWidth","200",3,"text",4,"ngIf"],[1,"container","d-flex","justify-content-between","pt-3","border-bottom"],["size","small","shape","undefined","color","undefined","fill","clear","slot","end",1,"my-auto","text-capitalize","shadow-sm","ion-button",3,"click"],["class","container ion-justify-content-left pt-3",4,"ngIf"],["class","ion-margin-vertical ion-justify-content-center",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["image","./assets/imgs/undraw_address_udes.svg","imageWidth","200",3,"text"],[1,"container","ion-justify-content-left","pt-3"],[4,"ngFor","ngForOf"],[1,"card","border-0","shadow-sm","m-2"],[1,"card-body","text-dark","border-bottom"],[1,"card-title","bold"],[1,"card-text"],[1,"ion-margin-vertical","ion-justify-content-center"],["size-xs","12","size-lg","9"],["count","12",3,"theme"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"ion-header",1),d.Vb(2,"ion-toolbar",2),d.Vb(3,"ion-buttons",3),d.Qb(4,"ion-back-button",4),d.Ub(),d.Vb(5,"ion-title"),d.Hc(6),d.ic(7,"translate"),d.Ub(),d.Vb(8,"ion-buttons",5),d.Vb(9,"ion-button",6),d.dc("click",(function(){return e.onAddButtonTouched()})),d.Qb(10,"ion-icon",7),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(11,"div",8),d.Qb(12,"app-navbar"),d.Ub(),d.Vb(13,"ion-content"),d.Vb(14,"ion-refresher",9),d.dc("ionRefresh",(function(t){return e.loadData(t)})),d.Qb(15,"ion-refresher-content",10),d.ic(16,"translate"),d.ic(17,"translate"),d.Ub(),d.Vb(18,"ion-grid",2),d.Fc(19,w,2,3,"empty-view",11),d.Fc(20,g,2,3,"empty-view",12),d.Vb(21,"div",8),d.Vb(22,"div",13),d.Vb(23,"h3"),d.Hc(24,"Saved Addresses"),d.Ub(),d.Vb(25,"ion-button",14),d.dc("click",(function(){return e.onAddButtonTouched()})),d.Qb(26,"ion-icon",7),d.Ub(),d.Ub(),d.Ub(),d.Fc(27,m,2,1,"ion-row",15),d.Fc(28,y,3,2,"ion-row",16),d.Ub(),d.Ub()),2&t&&(d.Cb(6),d.Ic(d.jc(7,7,"ADDRESSES")),d.Cb(9),d.qc("pullingText",d.jc(16,9,"PULL_TO_REFRESH")),d.qc("refreshingText",d.jc(17,11,"REFRESHING")),d.Cb(4),d.pc("ngIf",e.isErrorViewVisible),d.Cb(1),d.pc("ngIf",e.isEmptyViewVisible),d.Cb(7),d.pc("ngIf",e.isContentViewVisible),d.Cb(1),d.pc("ngIf",e.isLoadingViewVisible))},directives:[a.q,a.X,a.k,a.g,a.h,a.V,a.j,a.r,b.a,a.n,a.F,a.G,a.p,l.l,h.a,a.I,l.k,a.m,u.a],pipes:[f.c],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light)}ion-grid[_ngcontent-%COMP%]{background:#fff}"]}),t})();var E=i("d2mR"),C=i("CP0t");i.d(e,"AddressListPageModule",(function(){return R}));let R=(()=>{class t{}return t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({factory:function(e){return new(e||t)},imports:[[n.j.forChild([{path:"",component:v}]),E.a,C.a]]}),t})()}}]);